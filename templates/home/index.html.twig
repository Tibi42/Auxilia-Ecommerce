{# Page d'accueil : présente le héros carousel, l'introduction et les produits en vedette #}
{% extends 'base.html.twig' %}
{% block title %}
	Accueil - Auxilia E-commerce
{% endblock %}

{% block body %}
	<section class="hero position-relative overflow-hidden bg-primary text-white" style="min-height: 60vh;">
		<div class="carousel slide h-100" data-controller="carousel" id="heroCarousel">
			<div class="carousel-inner h-100">
				<div class="carousel-item active h-100" data-carousel-target="slide" style="background: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url('https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=1920&q=80') center/cover no-repeat; min-height: 60vh;">
					<div class="container h-100 d-flex align-items-center">
						<div class="col-md-8 col-lg-6 py-5">
							<h1 class="display-3 fw-bold mb-4">Bienvenue sur Auxilia E-commerce</h1>
							<p class="lead mb-5">Découvrez notre sélection de produits de qualité supérieure pour tous vos besoins.</p>
							<a href="{{ path('app_product') }}" class="btn btn-primary btn-lg px-4 me-md-2">Découvrir nos produits</a>
						</div>
					</div>
				</div>
				<div class="carousel-item h-100" data-carousel-target="slide" style="background: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url('https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?w=1920&q=80') center/cover no-repeat; min-height: 60vh;">
					<div class="container h-100 d-flex align-items-center">
						<div class="col-md-8 col-lg-6 py-5">
							<h1 class="display-3 fw-bold mb-4">Livraison gratuite</h1>
							<p class="lead mb-5">À partir de 50€ d'achat, profitez de la livraison gratuite partout en France.</p>
							<a href="{{ path('app_product') }}" class="btn btn-primary btn-lg px-4 me-md-2">En savoir plus</a>
						</div>
					</div>
				</div>
			</div>
			<button class="carousel-control-prev" type="button" data-action="click->carousel#previous">
				<span class="carousel-control-prev-icon" aria-hidden="true"></span>
				<span class="visually-hidden">Précédent</span>
			</button>
			<button class="carousel-control-next" type="button" data-action="click->carousel#next">
				<span class="carousel-control-next-icon" aria-hidden="true"></span>
				<span class="visually-hidden">Suivant</span>
			</button>
		</div>
	</section>

	<section class="py-5 bg-light">
		<div class="container">
			<div class="row justify-content-center text-center">
				<div class="col-lg-8">
					<h2 class="fw-bold text-primary mb-4">Pourquoi choisir Auxilia ?</h2>
					<p class="lead text-muted mb-4">Nous sommes fiers de vous proposer une large sélection de produits de qualité dans différentes catégories. Chaque article est rigoureusement sélectionné pour vous apporter entière satisfaction.</p>
					<div class="d-flex justify-content-center gap-3">
						<a href="{{ path('app_product') }}" class="btn btn-outline-primary shadow-sm">Découvrir le catalogue</a>
					</div>
				</div>
			</div>
		</div>
	</section>

	<section class="py-5">
		<div class="container text-center">
			<h3 class="text-uppercase tracking-wider text-muted mb-5 small fw-bold">Ils nous font confiance</h3>
			<div class="row align-items-center justify-content-center g-4">
				{% for partner in partners %}
					<div class="col-6 col-sm-4 col-md-2">
						<img src="{{ partner.logo }}" alt="{{ partner.name }}" class="img-fluid grayscale opacity-50 product-card-hover" style="max-height: 50px;">
					</div>
				{% endfor %}
			</div>
		</div>
	</section>

	<section class="py-5 bg-white">
		<div class="container">
			<div class="d-flex justify-content-between align-items-end mb-5">
				<div>
					<h2 class="fw-bold mb-1">Produits en vedette</h2>
					<p class="text-muted mb-0">Nos meilleures ventes et recommandations</p>
				</div>
				<a href="{{ path('app_product') }}" class="btn btn-link text-primary text-decoration-none fw-bold">Voir tout &rarr;</a>
			</div>
			<div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 g-4 mb-5">
				{% for product in featuredProducts %}
					<div class="col">
						{% include 'components/product_card.html.twig' with {product: product} %}
					</div>
				{% else %}
					<div class="col-12">
						<div class="alert alert-info text-center py-5">
							<i class="fas fa-info-circle fa-2x mb-3 d-block"></i>
							Aucun produit disponible pour le moment.
						</div>
					</div>
				{% endfor %}
			</div>
		</div>
	</section>

	<section class="py-5 bg-light overflow-hidden">
		<div class="container">
			<div class="text-center mb-5">
				<h2 class="fw-bold">Avis de nos clients</h2>
				<p class="text-muted">La satisfaction de nos clients est notre priorité</p>
			</div>
			<div class="row justify-content-center">
				<div class="col-lg-8">
					<div class="testimonials-carousel" data-controller="carousel" data-carousel-auto-play-value="true" data-carousel-interval-value="4000">
						<div class="testimonials-slides position-relative" style="min-height: 300px;">
							{% for testimonial in testimonials %}
								<div class="testimonial-card {{ loop.first ? 'active' : '' }} border-0 shadow-sm p-4 bg-white rounded-4" data-carousel-target="slide" style="transition: all 0.5s ease-in-out;">
									<div class="text-warning mb-3">
										{% for i in 1..5 %}
											<i class="fas fa-star {{ i <= testimonial.rating ? '' : 'opacity-25' }}"></i>
										{% endfor %}
									</div>
									<blockquote class="blockquote">
										<p class="fs-5 fw-italic">"{{ testimonial.content }}"</p>
									</blockquote>
									<div class="d-flex align-items-center mt-4">
										<img src="{{ testimonial.avatar }}" alt="{{ testimonial.author }}" class="rounded-circle border border-2 border-primary me-3" width="60" height="60" loading="lazy">
										<div>
											<h6 class="mb-0 fw-bold">{{ testimonial.author }}</h6>
											<small class="text-muted">{{ testimonial.date }}</small>
										</div>
									</div>
								</div>
							{% endfor %}
						</div>

						<div class="d-flex justify-content-center gap-2 mt-4">
							{% for testimonial in testimonials %}
								<button class="btn btn-xs rounded-circle {{ loop.first ? 'btn-primary' : 'btn-outline-primary' }} p-1" style="width: 10px; height: 10px;" data-action="click->carousel#goTo" data-index="{{ loop.index0 }}"></button>
							{% endfor %}
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>

	<section class="about">
		<div class="container">
			<div class="about-content">
				<h2>Notre engagement</h2>
				<p>Chez Auxilia E-commerce, nous nous engageons à vous offrir une expérience d'achat exceptionnelle. Nous sélectionnons soigneusement chaque produit pour garantir qualité et satisfaction. Notre équipe est à votre disposition pour répondre à toutes vos questions et vous accompagner dans vos achats.</p>
				<a href="{{ path('app_about') }}" class="btn btn-secondary">En savoir plus</a>
			</div>
		</div>
	</section>
{% endblock %}
