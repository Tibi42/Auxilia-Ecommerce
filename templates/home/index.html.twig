{# Page d'accueil : présente le héros carousel, l'introduction et les produits en vedette #}
{% extends 'base.html.twig' %}
{% block title %}
	Accueil - La Coopé des Vignerons
{% endblock %}

{% block body %}
	<section class="hero position-relative overflow-hidden bg-primary text-white" style="min-height: 500px;">
		<div class="carousel slide h-100" data-bs-ride="carousel" id="heroCarousel">
			<div class="carousel-inner h-100">
				<div class="carousel-item active h-100" style="background: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url('https://images.unsplash.com/photo-1506377247377-2a5b3b417ebb?w=1920&q=80') center/cover no-repeat; min-height: 500px;">
					<div class="container h-100 d-flex align-items-center">
						<div class="col-md-8 col-lg-6 py-5">
							<h1 class="display-3 fw-bold mb-4 animate__animated animate__fadeInDown">L'Excellence de nos Terroirs</h1>
							<p class="lead mb-5 animate__animated animate__fadeInUp animate__delay-1s">Découvrez une sélection unique de vins issus directement de nos vignerons récoltants. La passion du fruit, le respect de la terre.</p>
							<a href="{{ path('app_product') }}" class="btn btn-primary btn-lg px-4 me-md-2 rounded-pill shadow">Découvrir nos Cuvées</a>
						</div>
					</div>
				</div>
				<div class="carousel-item h-100" style="background: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url('https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=1920&q=80') center/cover no-repeat; min-height: 500px;">
					<div class="container h-100 d-flex align-items-center">
						<div class="col-md-8 col-lg-6 py-5">
							<h1 class="display-3 fw-bold mb-4">Direct Producteur</h1>
							<p class="lead mb-5">En choisissant la Coopérative, vous soutenez directement le travail de nos artisans vignerons. Livraison offerte dès 12 bouteilles.</p>
							<a href="{{ path('app_product') }}" class="btn btn-primary btn-lg px-4 me-md-2 rounded-pill shadow">Nos Engagements</a>
						</div>
					</div>
				</div>
			</div>
			<button class="carousel-control-prev" type="button" data-bs-target="#heroCarousel" data-bs-slide="prev">
				<span class="carousel-control-prev-icon" aria-hidden="true"></span>
				<span class="visually-hidden">Précédent</span>
			</button>
			<button class="carousel-control-next" type="button" data-bs-target="#heroCarousel" data-bs-slide="next">
				<span class="carousel-control-next-icon" aria-hidden="true"></span>
				<span class="visually-hidden">Suivant</span>
			</button>
		</div>
	</section>

	<section class="py-5 bg-light">
		<div class="container">
			<div class="row justify-content-center text-center">
				<div class="col-lg-8">
					<h2 class="fw-bold text-primary mb-4">Pourquoi choisir notre Coopérative ?</h2>
					<p class="lead text-muted mb-4">Depuis plus de 50 ans, nous unissons nos forces pour vous offrir le meilleur de nos vignobles. Des vins de caractère, authentiques et élaborés dans le respect des traditions viticoles.</p>
					<div class="d-flex justify-content-center gap-3">
						<a href="{{ path('app_product') }}" class="btn btn-outline-primary shadow-sm">Explorer la Cave</a>
					</div>
				</div>
			</div>
		</div>
	</section>

	<section class="py-5 bg-primary text-white shadow-lg">
		<div class="container">
			<div class="row g-4 text-center">
				<div class="col-6 col-md-3">
					<div class="p-3">
						<div class="display-5 fw-bold mb-2">150k+</div>
						<div class="text-white-50 text-uppercase small tracking-wider">Bouteilles vendues</div>
						<i class="fas fa-wine-bottle mt-3 opacity-25 fa-2x"></i>
					</div>
				</div>
				<div class="col-6 col-md-3 border-start border-white-10">
					<div class="p-3">
						<div class="display-5 fw-bold mb-2">5,200</div>
						<div class="text-white-50 text-uppercase small tracking-wider">Hectolitres / an</div>
						<i class="fas fa-fill-drip mt-3 opacity-25 fa-2x"></i>
					</div>
				</div>
				<div class="col-6 col-md-3 border-start border-white-10">
					<div class="p-3">
						<div class="display-5 fw-bold mb-2">45</div>
						<div class="text-white-50 text-uppercase small tracking-wider">Vignerons experts</div>
						<i class="fas fa-users mt-3 opacity-25 fa-2x"></i>
					</div>
				</div>
				<div class="col-6 col-md-3 border-start border-white-10">
					<div class="p-3">
						<div class="display-5 fw-bold mb-2">50+</div>
						<div class="text-white-50 text-uppercase small tracking-wider">Années d'histoire</div>
						<i class="fas fa-history mt-3 opacity-25 fa-2x"></i>
					</div>
				</div>
			</div>
		</div>
	</section>

	<section class="py-5 bg-white">
		<div class="container">
			<div class="d-flex justify-content-between align-items-end mb-5">
				<div>
					<h2 class="fw-bold mb-1">Sélection du Sommelier</h2>
					<p class="text-muted mb-0">Les coups de cœur de notre cave en ce moment</p>
				</div>
				<a href="{{ path('app_product') }}" class="btn btn-link text-primary text-decoration-none fw-bold">Tout voir &rarr;</a>
			</div>
			<div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 justify-content-center g-4 mb-5">
				{% for product in featuredProducts %}
					<div class="col">
						{% include 'components/product_card.html.twig' with {product: product} %}
					</div>
				{% else %}
					<div class="col-12">
						<div class="alert alert-info text-center py-5">
							<i class="fas fa-wine-bottle fa-2x mb-3 d-block"></i>
							Aucune bouteille disponible pour le moment.
						</div>
					</div>
				{% endfor %}
			</div>
		</div>
	</section>

	<section class="py-5 bg-light overflow-hidden">
		<div class="container">
			<div class="text-center mb-5">
				<h2 class="fw-bold">Paroles de Gastronomes</h2>
				<p class="text-muted">Ils ont dégusté nos vins et partagent leur expérience</p>
			</div>
			<div class="row justify-content-center">
				<div class="col-lg-8">
					<div id="testimonialCarousel" class="carousel slide" data-bs-ride="carousel" data-bs-interval="5000">
						<div class="carousel-inner" style="min-height: 280px;">
							{% for testimonial in testimonials %}
								<div class="carousel-item {{ loop.first ? 'active' : '' }}">
									<div class="card border-0 shadow-sm p-4 p-md-5 bg-white rounded-4 mx-1">
										<div class="text-warning mb-3">
											{% for i in 1..5 %}
												<i class="fas fa-star {{ i <= testimonial.rating ? '' : 'text-muted opacity-25' }}"></i>
											{% endfor %}
										</div>
										<blockquote class="blockquote">
											<p class="fs-4 fw-italic text-dark mb-4">"{{ testimonial.content }}"</p>
										</blockquote>
										<div class="d-flex align-items-center mt-auto">
											<img src="{{ testimonial.avatar }}" alt="{{ testimonial.author }}" class="rounded-circle border border-3 border-primary-subtle me-3" width="60" height="60" loading="lazy">
											<div>
												<h6 class="mb-0 fw-bold">{{ testimonial.author }}</h6>
												<small class="text-muted">{{ testimonial.date }}</small>
											</div>
										</div>
									</div>
								</div>
							{% endfor %}
						</div>

						<div class="carousel-indicators position-relative mt-5 mb-0">
							{% for testimonial in testimonials %}
								<button type="button" data-bs-target="#testimonialCarousel" data-bs-slide-to="{{ loop.index0 }}" class="{{ loop.first ? 'active' : '' }} bg-primary rounded-circle" style="width: 12px; height: 12px; margin: 0 5px;" aria-current="{{ loop.first ? 'true' : 'false' }}" aria-label="Slide {{ loop.index }}"></button>
							{% endfor %}
						</div>

						<button class="carousel-control-prev d-none d-md-flex" type="button" data-bs-target="#testimonialCarousel" data-bs-slide="prev" style="width: 5%; left: -60px;">
							<span class="carousel-control-prev-icon rounded-circle bg-primary p-3" aria-hidden="true"></span>
							<span class="visually-hidden">Précédent</span>
						</button>
						<button class="carousel-control-next d-none d-md-flex" type="button" data-bs-target="#testimonialCarousel" data-bs-slide="next" style="width: 5%; right: -60px;">
							<span class="carousel-control-next-icon rounded-circle bg-primary p-3" aria-hidden="true"></span>
							<span class="visually-hidden">Suivant</span>
						</button>
					</div>
				</div>
			</div>
		</div>
	</section>

	<section class="py-5 bg-dark text-white position-relative overflow-hidden">
		<div class="position-absolute top-0 end-0 p-5 opacity-10 d-none d-lg-block">
			<i class="fas fa-wine-glass-alt fa-10x rotate-12"></i>
		</div>

		<div class="container position-relative">
			<div class="row align-items-center g-5">
				<div class="col-lg-6">
					<div class="pe-lg-5">
						<h6 class="text-primary fw-bold text-uppercase tracking-widest mb-3">Notre Savoir-Faire</h6>
						<h2 class="display-4 fw-bold mb-4">De la Vigne jusqu'à votre Table</h2>
						<p class="lead text-white-50 mb-5">
							La
							<span class="text-primary fw-bold">Coopérative des Vignerons</span>
							garantit une traçabilité totale et une qualité irréprochable. Chaque bouteille raconte l'histoire d'un sol, d'un climat et d'un homme.
						</p>

						<div class="row g-4 mb-5">
							<div class="col-sm-6">
								<div class="d-flex align-items-center">
									<div class="bg-primary-subtle text-primary p-3 rounded-circle me-3">
										<i class="fas fa-leaf fa-xl"></i>
									</div>
									<div>
										<h5 class="mb-0 fw-bold">Culture Raisonnée</h5>
										<small class="text-white-50">Respect de la biodiversité</small>
									</div>
								</div>
							</div>
							<div class="col-sm-6">
								<div class="d-flex align-items-center">
									<div class="bg-primary-subtle text-primary p-3 rounded-circle me-3">
										<i class="fas fa-certificate fa-xl"></i>
									</div>
									<div>
										<h5 class="mb-0 fw-bold">AOP & IGP</h5>
										<small class="text-white-50">Appellations contrôlées</small>
									</div>
								</div>
							</div>
						</div>

						<a href="{{ path('app_about') }}" class="btn btn-primary btn-lg rounded-pill px-5 py-3 fw-bold shadow-lg hover-lift">
							Visiter nos Domaines
							<i class="fas fa-arrow-right ms-2 small"></i>
						</a>
					</div>
				</div>
				<div class="col-lg-6">
					<div class="position-relative">
						<div class="rounded-4 overflow-hidden shadow-2xl position-relative z-1">
							<img src="{{ asset('images/vignoble-savoir-faire.png') }}" alt="Vignoble de la Coopérative" class="img-fluid">
						</div>
						<div class="position-absolute bottom-0 start-0 translate-middle-x mb-5 ms-4 d-none d-md-block z-2">
							<div class="card border-0 shadow-lg bg-white text-dark rounded-4 p-4 animate__animated animate__fadeInUp">
								<div class="d-flex align-items-center">
									<div class="bg-success-subtle text-success p-3 rounded-3 me-3">
										<i class="fas fa-percentage fa-2x"></i>
									</div>
									<div>
										<h3 class="fw-bold mb-0">100%</h3>
										<p class="text-muted mb-0 small">Vins de récoltants</p>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>
{% endblock %}
