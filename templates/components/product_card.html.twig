{# Composant Carte Produit : affiche les informations rÃ©sumÃ©es d'un produit (image, nom, prix, actions) #}
<div class="card h-100 shadow-sm border-0 product-card-hover">
	<div class="card-img-top bg-light d-flex align-items-center justify-content-center overflow-hidden" style="height: 200px;">
		{% if product.imageName %}
			<img src="{{ asset('uploads/products/' ~ product.imageName) }}" alt="{{ product.name }}" class="img-fluid w-100 h-100 object-fit-cover" loading="lazy">
		{% else %}
			<div class="display-4 text-muted">ðŸ“¦</div>
		{% endif %}
	</div>

	<div class="card-body d-flex flex-column p-3">
		<h5 class="card-title fw-bold text-dark mb-2">{{ product.name }}</h5>
		{% if product.description %}
			<p class="card-text text-muted small mb-3">{{ product.description|slice(0, 80) }}
				{% if product.description|length > 80 %}...
				{% endif %}
			</p>
		{% endif %}

		<div class="mt-auto">
			<div class="d-flex justify-content-between align-items-center mb-3">
				<span class="fs-5 fw-bold text-primary">{{ product.price }}
					â‚¬</span>
				<span class="badge {{ (product.stock ?? 0) > 0 ? 'bg-success-subtle text-success' : 'bg-danger-subtle text-danger' }} border">
					Stock:
					{{ product.stock ?? 0 }}
				</span>
			</div>

			<div class="d-flex gap-2">
				<button class="btn btn-outline-primary flex-grow-1 btn-sm" data-action="click->modal#open" data-name="{{ product.name }}" data-description="{{ product.description }}" data-price="{{ product.price }}" data-add-to-cart-url="{{ path('cart_add', {id: product.id}) }}">
					DÃ©tails
				</button>
				<a href="{{ path('cart_add', {id: product.id}) }}" class="btn btn-primary btn-sm" title="Ajouter au panier">
					<i class="fas fa-cart-plus"></i>
				</a>
			</div>
		</div>
	</div>
</div>
