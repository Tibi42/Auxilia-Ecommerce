{# Composant Carte Produit : affiche les informations rÃ©sumÃ©es d'un produit (image, nom, prix, actions) #}
<div class="card h-100 shadow-sm border-0 product-card-hover cursor-pointer" data-action="click->modal#open" data-name="{{ product.name }}" data-description="{{ product.description }}" data-price="{{ product.price }}" data-image="{% if product.imageName %}{{ asset('uploads/products/' ~ product.imageName) }}{% endif %}" data-add-to-cart-url="{{ path('cart_add', {id: product.id}) }}" style="cursor: pointer;">

	<div class="card-img-top bg-light d-flex align-items-center justify-content-center overflow-hidden product-img-wrapper">
		{% if product.imageName %}
			<img src="{{ asset('uploads/products/' ~ product.imageName) }}" alt="{{ product.name }}" class="img-fluid w-100 h-100 object-fit-cover" loading="lazy">
		{% else %}
			<div class="fs-1 text-muted">ðŸ“¦</div>
		{% endif %}
	</div>

	<style>
		.product-img-wrapper {
			height: 120px;
		}
		@media(min-width: 576px) {
			.product-img-wrapper {
				height: 160px;
			}
		}
		@media(max-width: 575.98px) {
			.product-card-body {
				padding: 0.5rem !important;
			}
			.product-card-title {
				font-size: 0.85rem !important;
			}
		}
	</style>

	<div class="card-body d-flex flex-column product-card-body p-2">
		<h6 class="card-title fw-bold text-dark mb-1 text-truncate product-card-title">{{ product.name }}</h6>
		{% if product.description %}
			<p class="card-text text-muted x-small mb-2" style="font-size: 0.75rem; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden;">
				{{ product.description }}
			</p>
		{% endif %}

		<div class="mt-auto">
			<div class="d-flex justify-content-between align-items-center mb-2">
				<span class="fw-bold text-primary" style="font-size: 1rem;">{{ product.price }}
					â‚¬</span>
			</div>

			<div class="d-flex gap-1">
				<button class="btn btn-outline-primary flex-grow-1 btn-sm py-1 px-0" style="font-size: 0.75rem;">
					DÃ©tails
				</button>
				<a href="{{ path('cart_add', {id: product.id}) }}" class="btn btn-primary btn-sm py-1 px-2" title="Ajouter au panier" data-action="click->modal#stopPropagation">
					<i class="fas fa-cart-plus fa-xs"></i>
				</a>
			</div>
		</div>
	</div>
</div>
